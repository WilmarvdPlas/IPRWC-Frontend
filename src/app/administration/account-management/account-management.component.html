<body>
  <app-account-create type="ADMINISTRATION" class="card" (setAccounts)="setAccounts()"></app-account-create>
  <nb-card class="card accounts-card">
    <nb-card-header class="horizontal"><mat-icon class="accounts-icon">supervisor_account</mat-icon><h4>MANAGE ACCOUNTS</h4></nb-card-header>
    <div class="card-body-container">
      <nb-card-body class="account-management-card-body vertical">
        <nb-card class="account-card"
                 *ngFor="let account of accounts"
                 (click)="account == selectedAccount ? selectedAccount = undefined : selectedAccount = account"
                 [style]="account == selectedAccount ? {'background-color': 'rgba(0, 0, 0, 0.4)', 'border-color': 'white'} : {}">
          <nb-card-body class="account-card-body horizontal">
            <div class="account-card-icon-container vertical no-gap">
              <mat-icon class="account-card-icon">{{account.administrator ? 'admin_panel_settings' : 'person'}}</mat-icon>
              <small>{{account.administrator ? 'Admin' : 'User'}}</small>
            </div>
            <div class="account-data-container vertical no-gap">
              <h6>{{account.email}}</h6>
              <p>{{account.name}}</p>
            </div>
          </nb-card-body>
        </nb-card>
      </nb-card-body>
    </div>
    <nb-card-footer class="horizontal gap">
      <button (click)="openAdministratorDialog()" [disabled]="selectedAccount == undefined || selectedAccount.administrator" nbButton fullWidth status="primary" class="full-height">Grant administrator</button>
      <button (click)="openDeleteDialog()" [disabled]="selectedAccount == undefined || selectedAccount.administrator" nbButton fullWidth status="danger" class="full-height">Delete account</button>
    </nb-card-footer>
  </nb-card>
</body>
